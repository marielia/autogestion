<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
       xmlns:f="http://java.sun.com/jsf/core"
       xmlns:t="http://myfaces.apache.org/tomahawk"
        xmlns:botDetect="https://captcha.com/java/jsf">
<f:loadBundle basename="com.asecor.extranet.bundle.Messages_es_AR"
	var="Message" />
<f:view>
	<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="css/asecor.css"/>
<title></title>

<link rel="apple-touch-icon" href="favicon/apple-icon-57x57.png"/>
<link rel="apple-touch-icon" href="favicon/apple-icon-60x60.png"/>
<link rel="apple-touch-icon" href="favicon/apple-icon-72x72.png"/>
<link rel="apple-touch-icon" href="favicon/apple-icon-76x76.png"/>
<link rel="apple-touch-icon" href="favicon/apple-icon-114x114.png"/>
<link rel="apple-touch-icon" href="favicon/apple-icon-120x120.png"/>
<link rel="apple-touch-icon" href="favicon/apple-icon-144x144.png"/>
<link rel="apple-touch-icon" href="favicon/apple-icon-152x152.png"/>
<link rel="apple-touch-icon" href="favicon/apple-icon-180x180.png"/>
<link rel="icon" type="image/png"
	href="favicon/android-icon-192x192.png"/>
<link rel="icon" type="image/png" href="favicon/favicon-32x32.png"/>
<link rel="icon" type="image/png" href="favicon/favicon-96x96.png"/>
<link rel="icon" type="image/png" href="favicon/favicon-16x16.png"/>

<link rel="manifest" href="favicon/manifest.json"/>
<meta name="msapplication-TileColor" content="#ffffff"/>
<meta name="msapplication-TileImage"
	content="favicon/ms-icon-144x144.png"/>
<meta name="theme-color" content="#ffffff"/>

<link
	href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;700&amp;display=swap"
	rel="stylesheet"/>

        <meta http-equiv="Content-Type"
             content="text/html; charset=windows-1252"/>
		
		<link rel="stylesheet" type="text/css" href="/asecor/css/asecor.css"/>		
		<script type="text/javascript" src="/asecor/js/comun/jsutiles.js"></script>
		<script>
		function validar() { 				
				var nombres = document.getElementById('frmRegistracion:nombres');
				var fechaNacimiento = document.getElementById('frmRegistracion:fechaNacimiento');
				var telefono = document.getElementById('frmRegistracion:telefono');
				var email = document.getElementById('frmRegistracion:email');
				//var optPN = document.forms['frmRegistracion']['frmRegistracion:rdFormaRegistracion'][1].checked ;
				//var optEM = document.forms['frmRegistracion']['frmRegistracion:rdFormaRegistracion'][0].checked ; 
				// var opt=true;
				 
			
			 	
				
				if (nombres.value.trim() == '' ||	 					
						fechaNacimiento.value.trim() == '' ||  			
					telefono.value.trim() == '' ||	 					
					email.value.trim() == '' 
						 ) {
						alert('Debe completar todos los campos.');
					    return false;
				} else {
					if(emailCheck(email.value.trim(), false)) {
						
						
						
						return true;
					}
					else
						email.focus();
						return false;	
				}	 
				
				
				return true;
			}
		
			function emailCheck (emailStr, fehlermeldung) { 
					var notallowed = " ;:!$%/()=?*"; 
					if (fehlermeldung == false) { var fehlermeldung = "La cuenta de Email no es v\xE1lida.";} 
					var pos = emailStr.lastIndexOf("@"); 
					var pos2 = emailStr.lastIndexOf("."); 
					if ((pos &lt;= 0) || (pos == emailStr.length - 1) || 
					(pos2 &lt;= 0) || (pos2 == emailStr.length - 1) || (pos2 &lt;= pos + 2)) 
					{alert(fehlermeldung); return false;} 
					for (i=0; i &lt; notallowed.length; i++) { 
						var pos = emailStr.indexOf( notallowed.charAt(i) ); 
						if (pos &gt; -1) {alert(fehlermeldung); return false;} 
					} 
					return true; 
				} 
			
			function validarPass() { 				
				var pin = document.getElementById('frmRegistracion:pin');
				var pass = document.getElementById('frmRegistracion:pass'); 
				var repetpass = document.getElementById('frmRegistracion:repetpass'); 
				
				if (pin.value.trim() == ''   ||		
						pass.value.trim() == '' ||	 					
						repetpass.value.trim() == ''    ) {
						alert('Debe completar todos los campos.');
					    return false;
				}  	
				
				if (pass.value.trim().length &lt; 4 || repetpass.value.trim().length &lt;4) {
						alert('La contrase\u00F1a debe tener entre 4 y 10 d\u00EDgitos.');
					    return false;
				}
				
				if (pass.value.trim() != repetpass.value.trim() ) {
					alert('La contrase\u00F1a y repita contrase\u00F1a tiene que ser iguales.');
				    return false;
			    }
				
			 
				return true;
			}
			
		
		
		
		  var numeros = "0123456789";

	      function tiene_numeros(texto) {
	          for (i = 0; i &lt; texto.length; i++) {
	              if (numeros.indexOf(texto.charAt(i), 0) != -1) {
	                  return 1;
	              }
	          }
	          return 0;
	      }

	      var letras = "abcdefghyjklmnñopqrstuvwxyz";

	      function tiene_letras(texto) {
	          texto = texto.toLowerCase();
	          for (i = 0; i &lt; texto.length; i++) {
	              if (letras.indexOf(texto.charAt(i), 0) != -1) {
	                  return 1;
	              }
	          }
	          return 0;
	      }

	      var letras = "abcdefghyjklmnñopqrstuvwxyz";

	      function tiene_minusculas(texto) {
	          for (i = 0; i &lt; texto.length; i++) {
	              if (letras.indexOf(texto.charAt(i), 0) != -1) {
	                  return 1;
	              }
	          }
	          return 0;
	      }

	      var letras_mayusculas = "ABCDEFGHYJKLMNÑOPQRSTUVWXYZ";

	      function tiene_mayusculas(texto) {
	          for (i = 0; i &lt; texto.length; i++) {
	              if (letras_mayusculas.indexOf(texto.charAt(i), 0) != -1) {
	                  return 1;
	              }
	          }
	          return 0;
	      }

	      function seguridad_clave(clave) {
	          var seguridad = 0;
	          if (clave.length != 0) {
	              if (tiene_numeros(clave)  &amp;&amp; tiene_letras(clave)) {
	                  seguridad += 30;
	              }
	              if (tiene_minusculas(clave)  &amp;&amp; tiene_mayusculas(clave)) {
	                  seguridad += 30;
	              }
	              if (clave.length &gt;= 4  &amp;&amp; clave.length &lt;= 5) {
	                  seguridad += 10;
	              } else {
	                  if (clave.length &gt;= 6  &amp;&amp; clave.length &lt;= 8) {
	                      seguridad += 30;
	                  } else {
	                      if (clave.length &gt; 8) {
	                          seguridad += 40;
	                      }
	                  }
	              }
	          }
	          return seguridad
	      }
	      
		 function muestra_seguridad_clave(clave) {
	          var seguridad = seguridad_clave(clave.value);  

	          if (clave.name == "frmRegistracion:pass") {
	        	  
	        	  if(seguridad &lt; 20)
        		  {
        		   document.getElementById('frmRegistracion:lblseguridad').innerHTML =" (SEGURIDAD DÉBIL)";
        		  }
	        	  
	        	  if(seguridad  &gt;=20  &amp;&amp; seguridad &lt;=60)
        		  {
        		   document.getElementById('frmRegistracion:lblseguridad').innerHTML =" (SEGURIDAD MEDIA)";
        		  }
	        	  
	        	  if(seguridad &gt;60  &amp;&amp; seguridad  &lt;=100)
        		  {
        		   document.getElementById('frmRegistracion:lblseguridad').innerHTML =" (SEGURIDAD FUERTE)";
        		  } 
	            
	          }
	          
	          if (clave.name == "frmRegistracion:repetpass") { 
	              if(seguridad &lt; 20)
        		  {
        		   document.getElementById('frmRegistracion:lblseguridadrepetpass').innerHTML =" (SEGURIDAD DÉBIL)";
        		  }
	        	  
	        	  if(seguridad &gt;=20  &amp;&amp; seguridad  &lt;=60)
        		  {
        		   document.getElementById('frmRegistracion:lblseguridadrepetpass').innerHTML =" (SEGURIDAD MEDIA)";
        		  }
	        	  
	        	  if(seguridad  &gt;60  &amp;&amp; seguridad  &lt;=100)
        		  {
        		   document.getElementById('frmRegistracion:lblseguridadrepetpass').innerHTML =" (SEGURIDAD FUERTE)";
        		  } 
	          } 

			 

	      }
		</script>
	</head>
	
<body class="cover">
<div class="loginContainer">
  <div class="loginHeader">
    <div class="logoLogin"><img src="/asecor/img/logo_login.png" width="65" height="61" /></div>
    <div class="tituloPortal">PORTAL DE ASEGURADOS</div>
<div class="tituloLogin">REGISTRO DE USUARIO</div>
  </div>
  <div class="loginContent">
<h:form id="frmRegistracion"  rendered="#{!userRegisterBean.mostrarResultado}" title="registracion"
  onsubmit="return validar();">	 
				
	
	 
	      
	        <table width="100%" border="0" cellspacing="0" cellpadding="0">
	          <tr>
	            <td align="left" valign="top">  
	            <h:messages styleClass="errorRojo"/>
	            </td> 
	         </tr>
        	          
	          <tr>
	            <td colspan="2" align="left" valign="top">
	               <span class="mediumFont"><h:outputLabel for="email" value="#{Message.tit_email_label}" /></span>	             
 	                 <h:inputText id="email" value="#{userRegisterBean.email}"  maxlength="30"  size="20">
                    <f:validateRegex pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$" for="email"/>
                   
                </h:inputText>
 	              </td>
	          </tr>
	          
	          <tr>
	            <td colspan="2" align="left" valign="top">
	               <span class="mediumFont"><h:outputLabel for="dni" value="#{Message.tit_dni_tr_label}" /></span>	             
 	                <h:inputText id="dni" value="#{userRegisterBean.dni}"  maxlength="30"  size="20"  />
 	              </td>
	          </tr>
	            <tr>
	          <td colspan="2" align="left" valign="top">
	               
	              <label for="nombres"><span class="mediumFont"><h:outputLabel value="#{Message.tit_nombres_tr_label}" /></span></label>
 	              <h:inputText id="nombres" value="#{userRegisterBean.nombres}"    maxlength="99"  />
	              </td>
	          </tr>
	         <!--   <tr>
	            <td colspan="2" align="left" valign="top">
	                
	              <label for="fechaNacimiento" >
	              <span class="mediumFont"><h:outputLabel value="#{Message.tit_nacimiento_tr_label}" /></span>
	              </label>
	             
   	             
   	              
   	          <h:panelGrid columns="2">
      
        <h:inputText id="date" value="#{userRegisterBean.fechaNacimiento}"  
          size="20" required="true"
          label="Receipt Date" >
          <f:convertDateTime pattern="d-M-yyyy" />
        </h:inputText>
        <h:message for="date" style="color:red" />
      </h:panelGrid>
   	              
	             </td>
	          </tr>-->
	           <tr>
	            <td height="60" colspan="2" align="left" valign="top">
	              <label for="telefono" >
	               <span class="mediumFont"><h:outputLabel value="#{Message.tit_phone_label}" /></span>
 	                </label>
 	              <h:inputText id="telefono" value="#{userRegisterBean.phoneNumber}"   maxlength="30"   />
				 </td>				
	          </tr>
	         
	          <tr><td>
<h:outputLabel for="captchaCode" 
  value="Escriba los caracteres de la imagen"/>
  
<botDetect:jsfCaptcha id="exampleCaptcha" 
                      userInputID="captchaCode"
                      binding="#{userRegisterBean.captcha}"/>
                      
<h:inputText id="captchaCode" value="#{userRegisterBean.captchaCode}"/></td></tr>
	         
	       
	          
	          <tr>
	            <td height="100" colspan="2" align="center" valign="top"> 
	           
	                 <t:saveState value="#{userRegisterBean.comesFrom}"></t:saveState>
	               	<h:commandButton type="submit" value="REGISTRAR"  action="#{userRegisterBean.aceptarNuevo}"  styleClass="botonAceptar"></h:commandButton>
			</td>
	          </tr>
	          
	          
	        </table>
	    

 	</h:form>
 	
 	
 	<h:form id="frmFiltroCuenta2" rendered="#{userRegisterBean.mostrarResultado}" onsubmit="return validarPass();">	 
				
	
	  
	  
	  <table width="100%" border="0" cellspacing="0" cellpadding="0">
						<tr>
							<td align="left" valign="middle"><h:messages
									styleClass="errorNegro" /></td>
						</tr>

						
						<tr>
							<td colspan="2" align="left" valign="top"> <label for="email">
							<span class="mediumFont"><h:outputText 	value="#{Message.tit_email_label}" /> </span></label>
								<h:inputText id="email" 
									value="#{userRegisterBean.email}" /></td>
						</tr>
						<tr>
	            <td colspan="2" align="left" valign="top">
	               <span class="mediumFont"><h:outputLabel for="dni" value="#{Message.tit_dni_tr_label}" /></span>	             
 	                <h:inputText id="dni" value="#{userRegisterBean.dni}"  maxlength="20"    />
 	              </td>
	          </tr>
						<tr>
							<td colspan="2" align="left" valign="top"><span
								class="mediumFont"><h:outputText
										value="#{Message.tit_contrase_label}" /> </span>  <span
								class="smallFontSec"> <h:outputText id="seguridad">
									</h:outputText> <h:outputText id="lblseguridad" value=" "></h:outputText>
							</span> <label for="pass"></label> <h:inputSecret id="pass"
									styleClass="password"
									value="#{userRegisterBean.pass}" maxlength="10"
									onkeypress="muestra_seguridad_clave(this)">
									<f:validateLength minimum="1" />
								</h:inputSecret></td>
						</tr>
						<tr>
							<td colspan="2" align="left" valign="top"><span
								class="mediumFont"><h:outputText
										value="#{Message.tit_repetir_contrase_label}" /> </span>  <span
								class="smallFontSec"> <h:outputText
										id="seguridadrepetpass">
									</h:outputText> <h:outputText id="lblseguridadrepetpass" value=" "></h:outputText>
							</span> <label for="repetpass"></label> <h:inputSecret id="repetpass"
									styleClass="password"
									value="#{userRegisterBean.repetpass}"
									maxlength="10" onkeypress="muestra_seguridad_clave(this)">
									<f:validateLength minimum="1" />
								</h:inputSecret></td>
						</tr>
						<tr>
							<td height="100" colspan="2" align="center"><t:saveState
									value="#{registrationConfirmationBean.email}"></t:saveState> 
									<h:commandButton
									id="btnConfirmar" value="CONFIRMAR"   styleClass="botonAceptar"
									 action="#{userRegisterBean.confirmar}" ></h:commandButton>
							</td>
						</tr>
					</table>
	
 	</h:form>	
 	</div>
 	</div>		
</body>	
</f:view>
</html> 

